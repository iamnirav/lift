import{f as te,a as Q}from"../chunks/CbFU7UGo.js";import{L as fe,b as oe,B as W,h as y,x as ce,C as ve,O as l,P as _e,Q as pe,R as de,S as Z,A as Y,c as L,D as he,U as re,a as ae,V as ge,W as B,J as ne,v as F,X as be,Y as me,Z as G,_ as we,$ as Se,I as Ee,a0 as Te,d as Ie,a1 as ye,a2 as Ae,y as De,o as Ne,p as Re,a3 as D,a4 as P,u as Ce,s as I,f as xe,t as K,i as ke,a5 as E,a6 as Oe,a7 as U,r as V,j as X}from"../chunks/CU2oU4Kt.js";import{d as Le,s as q}from"../chunks/B-XLorMM.js";function Me(a,e){return e}function $e(a,e,t,r){for(var f=[],u=e.length,i=0;i<u;i++)Se(e[i].e,f,!0);var v=u>0&&f.length===0&&t!==null;if(v){var _=t.parentNode;Ee(_),_.append(t),r.clear(),N(a,e[0].prev,e[u-1].next)}Te(f,()=>{for(var o=0;o<u;o++){var n=e[o];v||(r.delete(n.k),N(a,n.prev,n.next)),Ie(n.e,!v)}})}function He(a,e,t,r,f,u=null){var i=a,v={flags:e,items:new Map,first:null};{var _=a;i=y?W(ce(_)):_.appendChild(fe())}y&&ve();var o=null,n=!1,h=_e(()=>{var s=t();return Ne(s)?s:s==null?[]:ne(s)});oe(()=>{var s=l(h),d=s.length;if(n&&d===0)return;n=d===0;let p=!1;if(y){var S=pe(i)===de;S!==(d===0)&&(i=Z(),W(i),Y(!1),p=!0)}if(y){for(var m=null,c,g=0;g<d;g++){if(L.nodeType===8&&L.data===he){i=L,p=!0,Y(!1);break}var A=s[g],T=r(A,g);c=le(L,v,m,null,A,T,g,f,e,t),v.items.set(T,c),m=c}d>0&&W(Z())}y||Ve(s,v,i,f,e,r,t),u!==null&&(d===0?o?re(o):o=ae(()=>u(i)):o!==null&&ge(o,()=>{o=null})),p&&Y(!0),l(h)}),y&&(i=L)}function Ve(a,e,t,r,f,u,i){var v=a.length,_=e.items,o=e.first,n=o,h,s=null,d=[],p=[],S,m,c,g;for(g=0;g<v;g+=1){if(S=a[g],m=u(S,g),c=_.get(m),c===void 0){var A=n?n.e.nodes_start:t;s=le(A,e,s,s===null?e.first:s.next,S,m,g,r,f,i),_.set(m,s),d=[],p=[],n=s.next;continue}if(We(c,S,g),c.e.f&B&&re(c.e),c!==n){if(h!==void 0&&h.has(c)){if(d.length<p.length){var T=p[0],b;s=T.prev;var M=d[0],R=d[d.length-1];for(b=0;b<d.length;b+=1)j(d[b],T,t);for(b=0;b<p.length;b+=1)h.delete(p[b]);N(e,M.prev,R.next),N(e,s,M),N(e,R,T),n=T,s=R,g-=1,d=[],p=[]}else h.delete(c),j(c,n,t),N(e,c.prev,c.next),N(e,c,s===null?e.first:s.next),N(e,s,c),s=c;continue}for(d=[],p=[];n!==null&&n.k!==m;)n.e.f&B||(h??(h=new Set)).add(n),p.push(n),n=n.next;if(n===null)continue;c=n}d.push(c),s=c,n=c.next}if(n!==null||h!==void 0){for(var C=h===void 0?[]:ne(h);n!==null;)n.e.f&B||C.push(n),n=n.next;var $=C.length;if($>0){var x=v===0?t:null;$e(e,C,x,_)}}F.first=e.first&&e.first.e,F.last=s&&s.e}function We(a,e,t,r){be(a.v,e),a.i=t}function le(a,e,t,r,f,u,i,v,_,o){var n=(_&ye)!==0,h=(_&Ae)===0,s=n?h?me(f,!1,!1):G(f):f,d=_&we?G(i):i,p={i:d,v:s,k:u,a:null,e:null,prev:t,next:r};try{return p.e=ae(()=>v(a,s,d,o),y),p.e.prev=t&&t.e,p.e.next=r&&r.e,t===null?e.first=p:(t.next=p,t.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function j(a,e,t){for(var r=a.next?a.next.e.nodes_start:t,f=e?e.e.nodes_start:t,u=a.e.nodes_start;u!==r;){var i=De(u);f.before(u),u=i}}function N(a,e,t){e===null?a.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}const ee=[...` 	
\r\fÂ \v\uFEFF`];function Ye(a,e,t){var r=""+a;if(t){for(var f in t)if(t[f])r=r?r+" "+f:f;else if(r.length)for(var u=f.length,i=0;(i=r.indexOf(f,i))>=0;){var v=i+u;(i===0||ee.includes(r[i-1]))&&(v===r.length||ee.includes(r[v]))?r=(i===0?"":r.substring(0,i))+r.substring(v+1):i=v}}return r===""?null:r}function Be(a,e,t,r,f,u){var i=a.__className;if(y||i!==t||i===void 0){var v=Ye(t,r,u);(!y||v!==a.getAttribute("class"))&&(v==null?a.removeAttribute("class"):a.className=v),a.__className=t}else if(u&&f!==u)for(var _ in u){var o=!!u[_];(f==null||o!==!!f[_])&&a.classList.toggle(_,o)}return u}const Pe=!0,et=Object.freeze(Object.defineProperty({__proto__:null,prerender:Pe},Symbol.toStringTag,{value:"Module"}));function z(a){return new Date(a).toISOString().slice(14,-5)}function Ue(a,e,t,r){E(e,Date.now(),!0),E(t,Date.now(),!0),E(r,!0)}function Xe(a,e,t){E(e,0),E(t,!1)}function qe(a,e,t){E(e,Date.now(),!0),Oe(t)}function ze(a,e,t){const r=prompt("Enter weight:",""+l(e));r&&(E(e,+r),t("weight",l(e)))}function Je(a,e,t){const r=prompt("Enter rest duration (in minutes):",(l(e)/6e4).toString());r&&(E(e,1e3*60*+r),t("restDuration",l(e)))}function Qe(a,e,t){const r=prompt("Enter sets (in fractions of total weight, space-separated):",""+l(e));r&&(E(e,r,!0),t("sets",l(e)))}var Ze=te("<span> </span>"),Fe=te("<h1>Lift</h1> <p></p> <button>Complete Set</button> <p> </p> <p> </p> <button>Set Weight</button> <button>Set Sets</button> <button>Set Rest</button> <button>Start</button> <button>Reset</button>",1);function tt(a,e){Re(e,!0);function t(){return typeof window<"u"&&window.localStorage}function r(w){return t()?window.localStorage.getItem(w):null}function f(w,k){t()&&window.localStorage.setItem(w,k.toString())}let u=D(0),i=D(0),v=D(0),_=D(0),o=D(!1),n=D(P(Number(r("weight"))||0)),h=D(P(Number(r("restDuration"))||1e3*60*2)),s=D(P(r("sets")||".5 .75 1 1 1 1 1"));Ce(()=>{const w=setInterval(()=>{E(u,Date.now(),!0)});return()=>clearInterval(w)});const d=U(()=>l(s).split(" ").map(w=>l(n)*+w)),p=U(()=>l(u)-l(i)),S=U(()=>l(u)-l(v));var m=Fe(),c=I(xe(m),2);He(c,21,()=>l(d),Me,(w,k,O)=>{var H=Ze();let J;var se=X(H,!0);V(H),K(ue=>{J=Be(H,1,"svelte-1bl7yh4",null,J,ue),q(se,l(k))},[()=>({complete:l(o)&&O<l(_),rest:l(o)&&O===l(_)&&l(S)<l(h),go:l(o)&&O===l(_)&&(l(S)>=l(h)||l(_)===0)})]),Q(w,H)}),V(c);var g=I(c,2);g.__click=[qe,v,_];var A=I(g,2),T=X(A);V(A);var b=I(A,2),M=X(b);V(b);var R=I(b,2);R.__click=[ze,n,f];var C=I(R,2);C.__click=[Qe,s,f];var $=I(C,2);$.__click=[Je,h,f];var x=I($,2);x.__click=[Ue,i,v,o];var ie=I(x,2);ie.__click=[Xe,_,o],K((w,k,O)=>{g.disabled=!l(o),q(T,`Rest: ${w??""} / ${k??""}`),q(M,`Total: ${O??""}`),x.disabled=l(o)||!l(n)},[()=>l(o)?z(l(S)):"00:00",()=>z(l(h)),()=>l(o)?z(l(p)):"00:00"]),Q(a,m),ke()}Le(["click"]);export{tt as component,et as universal};

import{e as A,H,a as b,s as m,b as O,h as L,c as y,d as I,f as M,i as k,g as P,j as T,k as Y,P as q}from"./disclose-version.CWWOu6ic.js";import{d as C,c as V,k as $,l as j,m as B,n as W,p as z,h as F,q as G,r as J}from"./runtime.CS8Xg7a3.js";const N=new Set,E=new Set;function X(a){for(var r=0;r<a.length;r++)N.add(a[r]);for(var s of E)s(a)}function w(a){var D;var r=this,s=r.ownerDocument,l=a.type,i=((D=a.composedPath)==null?void 0:D.call(a))||[],e=i[0]||a.target,d=0,c=a.__root;if(c){var f=i.indexOf(c);if(f!==-1&&(r===document||r===window)){a.__root=r;return}var u=i.indexOf(r);if(u===-1)return;f<=u&&(d=f)}if(e=i[d]||a.target,e!==r){C(a,"currentTarget",{configurable:!0,get(){return e||s}});try{for(var _,t=[];e!==null;){var o=e.parentNode||e.host||null;try{var n=e["__"+l];if(n!==void 0&&!e.disabled)if(V(n)){var[g,...p]=n;g.apply(e,[a,...p])}else n.call(e,a)}catch(v){_?t.push(v):_=v}if(a.cancelBubble||o===r||o===null)break;e=o}if(_){for(let v of t)queueMicrotask(()=>{throw v});throw _}}finally{a.__root=r,e=r}}}function Z(a,r){(a.__t??(a.__t=a.nodeValue))!==r&&(a.nodeValue=a.__t=r)}function K(a,r){const s=r.anchor??r.target.appendChild(A());return S(a,{...r,anchor:s})}function x(a,r){r.intro=r.intro??!1;const s=r.target,l=T,i=y;try{for(var e=s.firstChild;e&&(e.nodeType!==8||e.data!==H);)e=e.nextSibling;if(!e)throw b;m(!0),O(e),L();const d=S(a,{...r,anchor:e});if(y===null||y.nodeType!==8||y.data!==I)throw M(),b;return m(!1),d}catch(d){if(d===b)return r.recover===!1&&$(),k(),P(s),m(!1),K(a,r);throw d}finally{m(l),O(i)}}const h=new Map;function S(a,{target:r,anchor:s,props:l={},events:i,context:e,intro:d=!0}){k();var c=new Set,f=t=>{for(var o=0;o<t.length;o++){var n=t[o];if(!c.has(n)){c.add(n);var g=q.includes(n);r.addEventListener(n,w,{passive:g});var p=h.get(n);p===void 0?(document.addEventListener(n,w,{passive:g}),h.set(n,1)):h.set(n,p+1)}}};f(j(N)),E.add(f);var u=void 0,_=B(()=>(W(()=>{if(e){z({});var t=J;t.c=e}i&&(l.$$events=i),T&&Y(s,null),u=a(s,l)||{},T&&(F.nodes.end=y),e&&G()}),()=>{for(var t of c){r.removeEventListener(t,w);var o=h.get(t);--o===0?(document.removeEventListener(t,w),h.delete(t)):h.set(t,o)}E.delete(f),R.delete(u)}));return R.set(u,_),u}let R=new WeakMap;function rr(a){const r=R.get(a);r==null||r()}export{X as d,x as h,K as m,Z as s,rr as u};
